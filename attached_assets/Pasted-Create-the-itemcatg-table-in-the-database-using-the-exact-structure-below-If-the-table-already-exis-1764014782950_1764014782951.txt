Create the itemcatg table in the database using the exact structure below.
If the table already exists, update it using safe ALTER TABLE operations only.

While doing this:

Do NOT break any existing code, UI, workflows, or business logic.

Do NOT change or remove any other tables, data, constraints, or triggers.

Do NOT regress or weaken any security fixes (CSP, security headers, TLS, cookies, SRI, cache-control, POST-only rules, autocomplete fixes, directory protections, error sanitization, etc.).

Retain all referential integrity rules â€” future FK relationships must continue to work normally.

Preserve all existing data if the table already contains rows.

If the table does not exist â†’ create it.
If the table exists â†’ use ALTER TABLE to safely reconcile differences.

âœ… Target Table Definition

(You must use this structure exactly, translating into ALTER TABLE operations as needed.)

create table itemcatg 
(
	category_id integer not null generated by default as identity
		constraint pk_itemcatg primary key,

	-- Divisions of category - Goods and Funds
	category_type char(5) not null
		constraint c_itemcatg_0 check (category_type in ('GOODS','FUNDS')),
	
	category_code varchar(30) not null
		constraint c_itemcatg_1 check (category_code = upper(category_code))
		constraint uk_itemcatg_1 unique,

	-- Description of item category
	category_desc varchar(60) not null,

	-- Any comments related to this item type
	comments_text text,

	status_code char(1) not null
		constraint c_itemcatg_2 check (status_code in ('A','I')),

	create_by_id varchar(20) not null,
	create_dtime timestamp(0) without time zone not null,
	update_by_id varchar(20) not null,
	update_dtime timestamp(0) without time zone not null,
	version_nbr integer not null
);

ðŸ§© Migration Requirements

If the table does NOT exist:

Create it exactly as shown.

Ensure all constraints, defaults, checks, and identity columns are included.

Preserve full referential integrity for any future linking tables.

If the table already exists:

Use ALTER TABLE itemcatg to:

Add any missing columns

Add any missing constraints

Add or fix the primary key

Add or fix the unique constraint

Add or fix check constraints

Ensure column data types match

Do not drop or recreate the table.

Do not delete existing data.

Security Protection (non-regression)
Ensure nothing in this migration interferes with:

CSP

HSTS / security headers

Secure cookies (Secure, HttpOnly, SameSite)

SRI enforcement

Cache-control no-store

TLS cipher restrictions

Error sanitization (no debug info)

POST-only enforcement for sensitive fields

Workflow/Logic Stability

Do not change the behaviour of any LO/LM, Agency, Warehouse, Donation, Dispatch, Fulfillment, or Request workflow.

Do not affect any UI layouts or navigation patterns.

âœ… Expected Outcome

The itemcatg table now exists (or is updated) with the exact structure above.

All data and referential integrity remain intact.

The application continues functioning exactly as before.

No security fixes are weakened or altered.

No UI or workflow is modified in any way.